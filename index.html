<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>فرم ثبت ملک - املاک معین رامسر</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.rtl.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/rastikerdar/vazir-font@v27.2.2/dist/font-face.css">
  <!-- Font Awesome for icons (needed for plus icon) -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">

  <style>
    * {
      font-family: Vazir, Tahoma, Arial, sans-serif !important;
    }

    body {
      background-color: #f5f5f5;
      color: #333;
      line-height: 1.6;
      padding-bottom: 60px;
      font-family: Vazir, Tahoma, Arial, sans-serif !important;
    }

    .container {
      max-width: 800px;
      margin: 20px auto;
      background-color: #fff;
      padding: 20px; /* حفظ پدینگ برای فاصله کلی */
      border-radius: 10px;
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
    }

    h2 { /* Style for section titles */
        color: #000;
        margin-top: 10px;
        margin-bottom: 15px;
        font-size: 1.4rem;
        font-weight: bold;
        border-bottom: 2px solid #eee;
        padding-bottom: 5px;
        font-family: Vazir, Tahoma, Arial, sans-serif !important;
    }

    h3 {
      color: #000;
      margin-top: 15px;
      margin-bottom: 10px;
      font-size: 1.2rem;
      font-family: Vazir, Tahoma, Arial, sans-serif !important;
    }

    /* --- استایل برای عکس بنر --- */
    .header-banner {
        width: 100%; /* عرض کامل نسبت به کانتینر */
        display: block; /* جلوگیری از ایجاد فضای خالی زیر عکس */
        margin-bottom: 20px; /* ایجاد کمی فاصله زیر بنر */
        border-radius: 5px; /* اختیاری: گرد کردن گوشه‌ها مثل کانتینر */
    }

    /* --- استایل برای کانتینر هدر --- */
    .header-container {      position: relative; /* لازم برای موقعیت‌دهی مطلق منوی همبرگری */
    }

    /* --- استایل اصلاح شده منوی همبرگری --- */
    .hamburger-menu {
      position: absolute;
      top: 50%; /* قرار دادن لبه بالایی در وسط عمودی */
      right: 20px; /* انتقال به سمت راست */
      transform: translateY(-50%); /* جابجایی به بالا به اندازه نصف ارتفاع خودش برای وسط‌چینی دقیق */
      z-index: 100;
      cursor: pointer;
      background-color: #FFD700; /* Yellow color */
      color: #000; /* Black text */
      width: 35px;
      height: 35px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 18px;
      box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
      border: none; /* Ensure no border */
    }
     /* Add hover effect for hamburger */
    .hamburger-menu:hover {
        background-color: #F4C430; /* Darker yellow on hover */
    }


    /* --- بقیه استایل‌های موجود شما --- */
    .form-section {
      margin-bottom: 30px;
      padding: 15px;
      border: 1px solid #ddd;
      border-radius: 5px;
      background-color: #f9f9f9;
    }

    .form-label {
      font-weight: bold;
      margin-bottom: 5px;
      display: block;
      color: #000;
      font-family: Vazir, Tahoma, Arial, sans-serif !important;
    }

    .required-star, /* Keep old selector for compatibility */
    .required { /* New simpler selector */
      color: #dc3545; /* Red color for required */
      margin-right: 3px; /* Space after label text */
    }

    .form-control {
      border-radius: 5px;
      border: 1px solid #ced4da;
      padding: 8px 12px;
      width: 100%;
      margin-bottom: 15px; /* Space below input */
      font-family: Vazir, Tahoma, Arial, sans-serif !important;
       transition: border-color .15s ease-in-out,box-shadow .15s ease-in-out; /* Smooth transition */
    }
     /* Style for readonly inputs to look disabled but readable */
    .form-control[readonly] {
        background-color: #e9ecef; /* Lighter gray background */
        opacity: 1; /* Ensure text is fully opaque */
        cursor: not-allowed; /* Indicate it's not editable */
    }

    .form-control:focus {      border-color: #86b7fe; /* Bootstrap focus color */
      outline: 0;
      box-shadow: 0 0 0 0.25rem rgba(13, 110, 253, 0.25); /* Bootstrap focus shadow */
    }

    .form-check {
      margin-bottom: 10px;
      padding-right: 1.5em; /* Align checkbox text properly in RTL */
    }

    .form-check-input {
      margin-right: -1.5em; /* Adjust position for RTL */
      margin-left: 0; /* Reset margin-left */
      float: right; /* Float input to the right */
    }


    .form-check-label {
      font-family: Vazir, Tahoma, Arial, sans-serif !important;
      cursor: pointer; /* Make label clickable */
    }

    .btn {
      padding: 8px 20px;
      border-radius: 5px;
      font-weight: bold;
      cursor: pointer;
      transition: all 0.3s;
      font-family: Vazir, Tahoma, Arial, sans-serif !important;
      text-decoration: none; /* Ensure links styled as buttons don't have underlines */
      border: 1px solid transparent; /* Base border */
    }

    /* Submit Button Style (Yellow) */
    .btn-primary {
      background-color: #FFD700; /* Nice Yellow */
      border-color: #FFD700;
      color: #000; /* Black text */
    }

    .btn-primary:hover {
      background-color: #F4C430; /* Slightly darker yellow */
      border-color: #F4C430;
      color: #000;
    }

    /* Reset Button Style (Red) */
    .btn-danger {
      background-color: #dc3545;
      border-color: #dc3545;
      color: white;
    }

    .btn-danger:hover {
      background-color: #c82333;
      border-color: #bd2130;
    }

    /* Secondary/Close Button Style (Gray) */
    .btn-secondary {
      background-color: #6c757d;
      border-color: #6c757d;
      color: white;
    }

    .btn-secondary:hover {
      background-color: #5a6268;
      border-color: #545b62;
    }

    .button-group {
      display: flex;
      justify-content: center;
      gap: 10px; /* Space between buttons */
      margin-top: 20px;
    }

    .error {
      color: #dc3545;
      font-size: 0.875rem; /* Slightly smaller font */
      margin-top: -10px; /* Pull up below the input */
      margin-bottom: 10px; /* Space below error */
      font-family: Vazir, Tahoma, Arial, sans-serif !important;
      display: block; /* Ensure it takes space */
    }

    .error-field {
      border-color: #dc3545 !important; /* Red border for error */
       box-shadow: 0 0 0 0.25rem rgba(220, 53, 69, 0.25) !important; /* Red shadow */
    }

    .hidden {
      display: none !important; /* Add !important to ensure override */
    }

    .overlay {
      display: none; /* Hidden by default */
      position: fixed;
      top: 0;
      left: 0;      right: 0;
      bottom: 0;
      background-color: rgba(0, 0, 0, 0.6); /* Slightly darker overlay */
      z-index: 1050; /* Ensure overlay is on top */
      align-items: center;
      justify-content: center;
      padding: 15px; /* Padding for smaller screens */
    }

    .overlay-content {
      background-color: white;
      padding: 25px 30px; /* More padding */
      border-radius: 10px;
      max-width: 90%;
      width: 480px; /* Adjusted width for new content */
      text-align: center;
      font-family: Vazir, Tahoma, Arial, sans-serif !important;
      box-shadow: 0 5px 15px rgba(0,0,0,0.3); /* Stronger shadow */
    }
    .overlay-content h2, /* Style h2 inside overlay */
    .overlay-content h3 {
        margin-bottom: 15px;
        font-size: 1.3rem;
    }
     .overlay-content p { /* Default paragraph styling in overlay */
        margin-bottom: 20px;
        font-size: 1rem;
        color: #555;
        text-align: center; /* Center align text in overlay by default */
        line-height: 1.6;
    }

    /* Menu Overlay Specific Styles */
    .menu-overlay {
      display: none; /* Hidden by default */
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background-color: rgba(0, 0, 0, 0.85); /* Darker menu background */
      z-index: 1040; /* Below general overlay, above content */
      flex-direction: column;
      align-items: center;
      justify-content: center;
    }

    .menu-close {
      position: absolute;
      top: 20px;
      right: 20px;
      color: white;
      font-size: 30px; /* Larger close button */
      cursor: pointer;
      line-height: 1;
      padding: 5px;
       background: none; /* Ensure button look */
       border: none;
    }
     .menu-close:hover {
        color: #ddd;
    }

    .menu-content {
      background-color: #fff; /* White background for menu box */
      border-radius: 8px;
      padding: 20px; /* More padding */
      width: 80%; /* Wider on mobile */
      max-width: 380px; /* Max width */
      box-shadow: 0 4px 10px rgba(0,0,0,0.2);
    }

    .menu-table {
      width: 100%;
      border-collapse: collapse; /* Remove gaps between cells */
      margin-bottom: 0; /* Remove default table margin */
    }

     .menu-table tr {
         border-bottom: 1px solid #ddd; /* Separator lines */
     }
      .menu-table tr:last-child {
         border-bottom: none; /* No border on last row */
     }
     .menu-table td {
      padding: 12px 10px; /* Adjust padding */
      text-align: right;      vertical-align: middle; /* Center content vertically */
    }
     .menu-table td:first-child { /* Link column */
         font-weight: 500;
     }
      .menu-table td:first-child a {
         color: #0d6efd; /* Bootstrap link blue */
         text-decoration: none;
     }
      .menu-table td:first-child a:hover {
         text-decoration: underline;
     }

    .menu-table td:last-child { /* Hint column */
      text-align: left;
      font-size: 0.85rem;
      color: #6c757d; /* Gray hint text */
    }

    /* Styles for Presale Project Progress Input */
    .project-progress {
      border: 1px solid #ced4da; /* Match default input border */
      border-radius: 5px;
      padding: 8px 12px;
      /* Remove specific red border unless it's an error */
    }
     /* Error state for project progress */
     .project-progress.error-field {
         border-color: #dc3545 !important;
         box-shadow: 0 0 0 0.25rem rgba(220, 53, 69, 0.25) !important;
     }    /* Progress Bar Styles (within Sending Overlay) */
    .progress {
      height: 20px;
      margin-bottom: 0; /* Remove bottom margin if added by default */
      overflow: hidden; /* Ensure inner bar respects border radius */
      background-color: #e9ecef; /* Background of the container */
       border-radius: .25rem; /* Match Bootstrap's default */
    }
    .progress-bar {
        display: flex;
        flex-direction: column;
        justify-content: center;
        overflow: hidden;
        color: #fff; /* Text color on the bar */
        text-align: center;
        white-space: nowrap;
        background-color: #198754; /* Bootstrap success green */
        transition: width .6s ease; /* Smooth animation */
        font-size: 0.8rem; /* Smaller text */
    }
    .progress-bar-striped {
        background-image: linear-gradient(45deg,rgba(255,255,255,.15) 25%,transparent 25%,transparent 50%,rgba(255,255,255,.15) 50%,rgba(255,255,255,.15) 75%,transparent 75%,transparent);
        background-size: 1rem 1rem;
    }
    .progress-bar-animated {
        animation: 1s linear infinite progress-bar-stripes;
    }
    @keyframes progress-bar-stripes {
        0% { background-position-x: 1rem; }
    }

    /* Validation Errors Box */
    .validation-errors {
      color: #842029; /* Darker red text */
      background-color: #f8d7da; /* Light red background */
      border: 1px solid #f5c2c7; /* Red border */
      border-radius: 5px;
      padding: 15px 20px; /* More padding */
      margin-top: 20px;
      margin-bottom: 15px; /* Space below */
      font-family: Vazir, Tahoma, Arial, sans-serif !important;
    }
    .validation-errors h4 {
        margin-top: 0;
        margin-bottom: 10px; /* Space below heading */
        font-size: 1.1rem; /* Slightly larger heading */
        font-weight: bold;
        color: #6a1a21; /* Even darker red for heading */
    }
    .validation-errors ul {
        margin-bottom: 0;
        padding-right: 20px; /* Indent list items */
        list-style-type: disc; /* Use standard bullets */
    }
     .validation-errors li {
         margin-bottom: 5px; /* Space between list items */
     }


    /* =============================================== */
    /* ===== START: NEW/MODIFIED CSS FOR SUCCESS ===== */
    /* =============================================== */

    /* استایل برای هایلایت کلمات عکس و فیلم */
    .highlight-text {
      color: #ffc107; /* رنگ زرد مشابه دکمه ارسال - می‌توانید تغییر دهید */
      font-weight: bold;
    }

    /* استایل دکمه‌های ارسال تلگرام و واتساپ در پیام موفقیت */
    #successOverlay .btn-share {
      width: auto; /* عرض دکمه به اندازه محتوا */
      padding-left: 15px; /* کمی پدینگ افقی */
      padding-right: 15px;
      margin: 5px; /* کمی فاصله بین دکمه‌ها */
      text-decoration: none; /* Ensure no underline */
    }
    /* Colors for share buttons */
    #sendTelegramBtn {        background-color: #0088cc; /* Telegram blue */
        border-color: #0077b5;
        color: white;
    }
    #sendTelegramBtn:hover {
        background-color: #0077b5;
        border-color: #00669e;
        color: white;
    }
    #sendWhatsAppBtn {
        background-color: #25d366; /* WhatsApp green */
        border-color: #1ebe5b;
        color: white;
    }
    #sendWhatsAppBtn:hover {
        background-color: #1ebe5b;
        border-color: #1aa950;
        color: white;
    }


    /* استایل دکمه ثبت ملک جدید در پیام موفقیت (زرد) */
    #closeSuccessBtn {
      background-color: #ffc107; /* رنگ زرد مشابه دکمه ارسال */
      border-color: #ffc107; /* رنگ حاشیه */
      color: #212529; /* رنگ متن مشکی */
      font-weight: bold;
      display: inline-flex; /* برای قرارگیری آیکون و متن در یک ردیف */
      align-items: center; /* تراز عمودی آیکون و متن */
      gap: 5px; /* فاصله بین آیکون و متن */      margin-top: 15px; /* Add some space above */
    }

    #closeSuccessBtn:hover {
      background-color: #e0a800; /* کمی تیره‌تر هنگام هاور */
      border-color: #d39e00;
      color: #212529;
    }

    /* آیکون جدید تیک سبز ساده */
    .success-icon-simple {
        width: 80px;
        height: 80px;
        margin: 20px auto;
        border-radius: 50%;
        background-color: #e8f5e9; /* پس زمینه سبز خیلی روشن */
        display: flex;
        align-items: center;
        justify-content: center;
        animation: fadeInScale 0.5s ease-out forwards; /* انیمیشن ساده */
    }

    .success-icon-simple svg {
        width: 50px;
        height: 50px;
        stroke-dasharray: 48;
        stroke-dashoffset: 48;
        animation: drawCheck 0.4s 0.3s ease-out forwards; /* انیمیشن کشیدن تیک */
    }

    /* انیمیشن‌های آیکون جدید */
    @keyframes fadeInScale {
        from {
            opacity: 0;
            transform: scale(0.5);
        }
        to {
            opacity: 1;
            transform: scale(1);
        }
    }

    @keyframes drawCheck {
        to {
            stroke-dashoffset: 0;
        }
    }

    /* استایل برای بخش دکمه‌های تماس (تلگرام/واتساپ) در پیام موفقیت */
    .contact-buttons {
        margin-top: 15px;
        margin-bottom: 15px;
        display: flex; /* دکمه‌ها کنار هم */        justify-content: center; /* وسط چین کردن دکمه‌ها */
        flex-wrap: wrap; /* اگر صفحه کوچک شد زیر هم بروند */
        gap: 10px; /* فاصله بین دکمه‌ها */
    }

    /* ============================================= */
    /* ===== END: NEW/MODIFIED CSS FOR SUCCESS ===== */
    /* ============================================= */


    /* Responsive Adjustments */
    @media (max-width: 768px) {
         .hamburger-menu {
             right: 15px; /* Adjust position slightly */         }
         .overlay-content {
             width: 90%; /* Wider overlay on smaller screens */
         }
         .menu-content {
             width: 90%; /* Wider menu on smaller screens */
         }
    }


    @media (max-width: 576px) {
      .container {
          padding: 15px;
          margin: 10px;
      }
      h2 { font-size: 1.3rem; }
      h3 { font-size: 1.1rem; }
      .button-group {
          flex-direction: column; /* Stack main buttons */
      }
      .button-group .btn {
          width: 100%;
          margin-bottom: 10px; /* Space when stacked */
      }
       .button-group .btn:last-child {
          margin-bottom: 0;
      }

      /* Ensure radio/checkbox labels don't wrap awkwardly */
      .form-check-label {
         display: inline-block; /* Prevent wrapping if possible */
         margin-bottom: 0; /* Remove extra margin */
      }
       .form-check {
           display: flex; /* Try flex layout for better alignment */
           align-items: center;
       }
       .form-check-input {
           margin-top: 0; /* Align input with label text */
       }

        .overlay-content {
            width: 95%; /* Even wider on very small screens */
            padding: 20px 15px;
        }
         .overlay-content h2,
         .overlay-content h3 {
             font-size: 1.2rem;
         }
         .overlay-content p {
             font-size: 0.95rem;
         }
          /* Adjust success icon size */
         .success-icon-simple {
             width: 60px;
             height: 60px;
         }
         .success-icon-simple svg {
             width: 40px;
             height: 40px;
         }
          /* Ensure contact buttons stack nicely */
         .contact-buttons {
             flex-direction: column;
         }
         .contact-buttons .btn-share {
             width: 100%; /* Full width when stacked */
             margin: 5px 0;
         }
    }
  </style>
</head>
<body>
  <div class="container">
    <!-- ===== بخش هدر اصلاح شده ===== -->
    <div class="header-container">
      <!-- عکس بنر -->
      <img src="header-banner.png"
           alt="بنر فرم ثبت ملک املاک معین رامسر"
           class="img-fluid header-banner">
      <!-- منوی همبرگری -->
       <button type="button" id="hamburgerMenu" class="hamburger-menu" aria-label="باز کردن منو">☰</button>
    </div>
    <!-- ===== پایان بخش هدر اصلاح شده ===== -->

    <form id="propertyForm" novalidate> <!-- novalidate prevents default browser validation -->
      <!-- اطلاعات شخصی -->
      <div class="form-section">
        <h2>اطلاعات شخصی</h2>
        <div class="row">
          <div class="col-md-6">
            <label for="firstName" class="form-label">نام <span class="required">*</span></label>
            <input type="text" id="firstName" class="form-control persian-letters-only" required placeholder="فقط فارسی">
            <div id="firstNameError" class="error hidden"></div>
          </div>
          <div class="col-md-6">
            <label for="lastName" class="form-label">نام خانوادگی <span class="required">*</span></label>
            <input type="text" id="lastName" class="form-control persian-letters-only" required placeholder="فقط فارسی">
            <div id="lastNameError" class="error hidden"></div>
          </div>
        </div>
        <div class="row">
          <div class="col-md-6">
            <label for="phone" class="form-label">شماره تماس <span class="required">*</span></label>
            <input type="tel" id="phone" class="form-control numeric-only" placeholder="09123456789" required inputmode="tel"> <!-- type=tel is appropriate -->
            <div id="phoneError" class="error hidden"></div>
          </div>
          <div class="col-md-6">
            <label for="altPhone" class="form-label">شماره تماس دیگر</label>
            <input type="tel" id="altPhone" class="form-control numeric-only" placeholder="اختیاری" inputmode="tel"> <!-- type=tel is appropriate -->
          </div>
        </div>
        <!-- ******** فیلد تاریخ اضافه شده ******** -->
        <div class="row mt-3">
          <div class="col-md-6">            <label for="registrationDate" class="form-label">تاریخ ثبت</label>
            <input type="text" id="registrationDate" class="form-control" readonly placeholder="در حال بارگذاری تاریخ...">
          </div>
          <div class="col-md-6"></div> <!-- ستون خالی برای تراز بندی -->
        </div>
        <!-- ******** پایان فیلد تاریخ اضافه شده ******** -->
      </div>

      <!-- نوع ملک -->
      <div class="form-section">
        <h2>نوع ملک <span class="required">*</span></h2>
        <div class="row">
          <div class="col-6 col-md-4">
            <div class="form-check">
              <input class="form-check-input" type="radio" name="propertyType" id="apartment" value="آپارتمان">
              <label class="form-check-label" for="apartment">آپارتمان</label>
            </div>
          </div>
          <div class="col-6 col-md-4">
            <div class="form-check">
              <input class="form-check-input" type="radio" name="propertyType" id="villa" value="ویلا">
              <label class="form-check-label" for="villa">ویلا</label>
            </div>
          </div>
          <div class="col-6 col-md-4">
            <div class="form-check">
              <input class="form-check-input" type="radio" name="propertyType" id="land" value="زمین">
              <label class="form-check-label" for="land">زمین</label>
            </div>
          </div>
          <div class="col-6 col-md-4">
            <div class="form-check">
              <input class="form-check-input" type="radio" name="propertyType" id="commercial" value="تجاری / مغازه">
              <label class="form-check-label" for="commercial">تجاری / مغازه</label>
            </div>
          </div>
          <div class="col-6 col-md-4">
            <div class="form-check">
              <input class="form-check-input" type="radio" name="propertyType" id="old" value="کلنگی">
              <label class="form-check-label" for="old">کلنگی</label>
            </div>
          </div>
          <div class="col-6 col-md-4">
            <div class="form-check">
              <input class="form-check-input" type="radio" name="propertyType" id="presale" value="پیش‌فروش">
              <label class="form-check-label" for="presale">پیش‌فروش</label>
            </div>
          </div>
        </div>
        <div id="typeError" class="error hidden">لطفاً نوع ملک را انتخاب کنید</div>
      </div>

      <!-- جزئیات پیش‌فروش -->
      <div id="presaleTypeSection" class="form-section hidden">
        <h3>نوع پیش‌فروش <span class="required">*</span></h3>
        <div class="row">
          <div class="col-6">
            <div class="form-check">
              <input class="form-check-input" type="radio" name="presaleType" id="presaleApartment" value="آپارتمان">
              <label class="form-check-label" for="presaleApartment">آپارتمان</label>
            </div>
          </div>
          <div class="col-6">
            <div class="form-check">
              <input class="form-check-input" type="radio" name="presaleType" id="presaleVilla" value="ویلا">
              <label class="form-check-label" for="presaleVilla">ویلا</label>
            </div>
          </div>
        </div>
        <div id="presaleTypeError" class="error hidden">لطفاً نوع پیش‌فروش را انتخاب کنید</div>
        <div class="mt-3">
          <label for="projectProgress" class="form-label">پروژه در چه مرحله‌ای است؟ <span class="required">*</span></label>
          <input type="text" id="projectProgress" class="form-control project-progress persian-and-numbers-only" required placeholder="مثال: اسکلت، سفت‌کاری، نازک‌کاری و...">
          <div id="projectProgressError" class="error hidden"></div>
        </div>
      </div>

      <!-- === بخش‌های جزئیات ملک (آپارتمان، ویلا، ...) === -->

       <!-- جزئیات آپارتمان -->
      <div id="apartmentDetails" class="form-section hidden">
         <h3>جزئیات آپارتمان</h3>
        <div class="row">
          <div class="col-md-6">
            <label for="landArea-apartment" class="form-label">متراژ زمین (متر)</label>
            <input type="text" id="landArea-apartment" name="landArea-apartment" class="form-control numeric-only" inputmode="numeric">
            <div id="landArea-apartmentError" class="error hidden"></div>
          </div>
          <div class="col-md-6">
            <label for="unitArea-apartment" class="form-label">متراژ واحد (متر) <span class="required">*</span></label>
            <input type="text" id="unitArea-apartment" name="unitArea-apartment" class="form-control numeric-only" required inputmode="numeric">
            <div id="unitArea-apartmentError" class="error hidden"></div>
          </div>
        </div>
        <div class="row mt-3">
          <div class="col-md-6">
            <label for="roomCount-apartment" class="form-label">تعداد اتاق‌ها <span class="required">*</span></label>
            <input type="text" id="roomCount-apartment" name="roomCount-apartment" class="form-control numeric-only" required inputmode="numeric">
            <div id="roomCount-apartmentError" class="error hidden"></div>
          </div>
          <div class="col-md-6">
            <label for="buildYear-apartment" class="form-label">سال ساخت <span class="required">*</span></label>
            <input type="text" id="buildYear-apartment" name="buildYear-apartment" class="form-control numeric-only" required inputmode="numeric" placeholder="مثال: ۱۴۰۲">
            <div id="buildYear-apartmentError" class="error hidden"></div>
          </div>
        </div>
        <div class="mt-3">
          <label class="form-label">مشخصات آشپزخانه</label>
          <div class="row">
            <div class="col-6 col-md-3"><div class="form-check"><input class="form-check-input" type="checkbox" name="kitchen" id="kitchen-apartment-1" value="کابینت فلزی"><label class="form-check-label" for="kitchen-apartment-1">کابینت فلزی</label></div></div>
            <div class="col-6 col-md-3"><div class="form-check"><input class="form-check-input" type="checkbox" name="kitchen" id="kitchen-apartment-2" value="کابینت MDF"><label class="form-check-label" for="kitchen-apartment-2">کابینت MDF</label></div></div>
            <div class="col-6 col-md-3"><div class="form-check"><input class="form-check-input" type="checkbox" name="kitchen" id="kitchen-apartment-3" value="هایگلس"><label class="form-check-label" for="kitchen-apartment-3">هایگلس</label></div></div>
            <div class="col-6 col-md-3"><div class="form-check"><input class="form-check-input" type="checkbox" name="kitchen" id="kitchen-apartment-4" value="ممبران"><label class="form-check-label" for="kitchen-apartment-4">ممبران</label></div></div>
            <div class="col-6 col-md-3"><div class="form-check"><input class="form-check-input" type="checkbox" name="kitchen" id="kitchen-apartment-5" value="اجاق گاز"><label class="form-check-label" for="kitchen-apartment-5">اجاق گاز</label></div></div>
            <div class="col-6 col-md-3"><div class="form-check"><input class="form-check-input" type="checkbox" name="kitchen" id="kitchen-apartment-6" value="هود"><label class="form-check-label" for="kitchen-apartment-6">هود</label></div></div>
            <div class="col-6 col-md-3"><div class="form-check"><input class="form-check-input" type="checkbox" name="kitchen" id="kitchen-apartment-7" value="سینک"><label class="form-check-label" for="kitchen-apartment-7">سینک</label></div></div>
            <div class="col-6 col-md-3"><div class="form-check"><input class="form-check-input" type="checkbox" name="kitchen" id="kitchen-apartment-8" value="فر"><label class="form-check-label" for="kitchen-apartment-8">فر</label></div></div>
            <div class="col-6 col-md-3"><div class="form-check"><input class="form-check-input" type="checkbox" name="kitchen" id="kitchen-apartment-9" value="مطبخ"><label class="form-check-label" for="kitchen-apartment-9">مطبخ</label></div></div>
            <div class="col-6 col-md-3"><div class="form-check"><input class="form-check-input" type="checkbox" name="kitchen" id="kitchen-apartment-10" value="لاندری"><label class="form-check-label" for="kitchen-apartment-10">لاندری</label></div></div>
            <div class="col-6 col-md-3"><div class="form-check"><input class="form-check-input" type="checkbox" name="kitchen" id="kitchen-apartment-11" value="فول فرنیش"><label class="form-check-label" for="kitchen-apartment-11">فول فرنیش</label></div></div>
            <div class="col-6 col-md-3"><div class="form-check"><input class="form-check-input" type="checkbox" name="kitchen" id="kitchen-apartment-12" value="اپن"><label class="form-check-label" for="kitchen-apartment-12">اپن</label></div></div>
          </div>
        </div>
        <div class="mt-3">
          <label class="form-label">تاسیسات</label>
          <div class="row">
            <div class="col-6 col-md-3"><div class="form-check"><input class="form-check-input" type="checkbox" name="facilities" id="facilities-apartment-1" value="شوفاژ"><label class="form-check-label" for="facilities-apartment-1">شوفاژ</label></div></div>
            <div class="col-6 col-md-3"><div class="form-check"><input class="form-check-input" type="checkbox" name="facilities" id="facilities-apartment-2" value="چیلر"><label class="form-check-label" for="facilities-apartment-2">چیلر</label></div></div>
            <div class="col-6 col-md-3"><div class="form-check"><input class="form-check-input" type="checkbox" name="facilities" id="facilities-apartment-3" value="پکیج"><label class="form-check-label" for="facilities-apartment-3">پکیج</label></div></div>
            <div class="col-6 col-md-3"><div class="form-check"><input class="form-check-input" type="checkbox" name="facilities" id="facilities-apartment-4" value="کولر گازی"><label class="form-check-label" for="facilities-apartment-4">کولر گازی</label></div></div>
            <div class="col-6 col-md-3"><div class="form-check"><input class="form-check-input" type="checkbox" name="facilities" id="facilities-apartment-5" value="سایر"><label class="form-check-label" for="facilities-apartment-5">سایر</label></div></div>
          </div>
          <div class="mt-2"><input type="text" id="otherFacilities-apartment" name="otherFacilities-apartment" class="form-control persian-and-numbers-only" placeholder="در صورت انتخاب سایر، تاسیسات را وارد کنید"></div>
        </div>
        <div class="mt-3">
          <label class="form-label">امکانات</label>
          <div class="row">
            <div class="col-6 col-md-3"><div class="form-check"><input class="form-check-input" type="checkbox" name="amenities" id="amenities-apartment-1" value="آسانسور"><label class="form-check-label" for="amenities-apartment-1">آسانسور</label></div></div>
            <div class="col-6 col-md-3"><div class="form-check"><input class="form-check-input" type="checkbox" name="amenities" id="amenities-apartment-2" value="پارکینگ"><label class="form-check-label" for="amenities-apartment-2">پارکینگ</label></div></div>
            <div class="col-6 col-md-3"><div class="form-check"><input class="form-check-input" type="checkbox" name="amenities" id="amenities-apartment-3" value="انباری"><label class="form-check-label" for="amenities-apartment-3">انباری</label></div></div>
            <div class="col-6 col-md-3"><div class="form-check"><input class="form-check-input" type="checkbox" name="amenities" id="amenities-apartment-4" value="بالکن"><label class="form-check-label" for="amenities-apartment-4">بالکن</label></div></div>
            <div class="col-6 col-md-3"><div class="form-check"><input class="form-check-input" type="checkbox" name="amenities" id="amenities-apartment-5" value="سایر"><label class="form-check-label" for="amenities-apartment-5">سایر</label></div></div>
          </div>
          <div class="mt-2"><input type="text" id="otherAmenities-apartment" name="otherAmenities-apartment" class="form-control persian-and-numbers-only" placeholder="در صورت انتخاب سایر، امکانات را وارد کنید"></div>
        </div>
        <div class="mt-3">
          <label class="form-label">مشاعات</label>
          <div class="row">
            <div class="col-6 col-md-3"><div class="form-check"><input class="form-check-input" type="checkbox" name="commonAreas" id="commonAreas-apartment-1" value="لابی"><label class="form-check-label" for="commonAreas-apartment-1">لابی</label></div></div>
            <div class="col-6 col-md-3"><div class="form-check"><input class="form-check-input" type="checkbox" name="commonAreas" id="commonAreas-apartment-2" value="سالن اجتماعات"><label class="form-check-label" for="commonAreas-apartment-2">سالن اجتماعات</label></div></div>
            <div class="col-6 col-md-3"><div class="form-check"><input class="form-check-input" type="checkbox" name="commonAreas" id="commonAreas-apartment-3" value="روف گاردن"><label class="form-check-label" for="commonAreas-apartment-3">روف گاردن</label></div></div>
            <div class="col-6 col-md-3"><div class="form-check"><input class="form-check-input" type="checkbox" name="commonAreas" id="commonAreas-apartment-4" value="سایر"><label class="form-check-label" for="commonAreas-apartment-4">سایر</label></div></div>          </div>
          <div class="mt-2"><input type="text" id="otherCommonAreas-apartment" name="otherCommonAreas-apartment" class="form-control persian-and-numbers-only" placeholder="در صورت انتخاب سایر، مشاعات را وارد کنید"></div>
        </div>
        <div class="mt-3">
          <label for="otherDetails-apartment" class="form-label">سایر توضیحات</label>
          <textarea id="otherDetails-apartment" name="otherDetails-apartment" class="form-control persian-and-numbers-only" rows="3" placeholder="هر توضیح دیگری که لازم است وارد کنید"></textarea>
          <div id="otherDetails-apartmentError" class="error hidden"></div>
        </div>
        <div class="mb-4 mt-4">
          <label class="form-label">وضعیت سند <span class="required">*</span></label>
          <div class="row">
            <div class="col-6 col-md-4"><div class="form-check"><input class="form-check-input" type="radio" name="document" id="document-apartment-1" value="سند تک برگ"><label class="form-check-label" for="document-apartment-1">سند تک برگ</label></div></div>
            <div class="col-6 col-md-4"><div class="form-check"><input class="form-check-input" type="radio" name="document" id="document-apartment-2" value="سند دفترچه‌ای"><label class="form-check-label" for="document-apartment-2">سند دفترچه‌ای</label></div></div>
            <div class="col-6 col-md-4"><div class="form-check"><input class="form-check-input" type="radio" name="document" id="document-apartment-3" value="قولنامه‌ای"><label class="form-check-label" for="document-apartment-3">قولنامه‌ای</label></div></div>
          </div>
          <div id="document-apartmentError" class="error hidden">لطفاً وضعیت سند را انتخاب کنید</div>
        </div>
        <div class="mb-4">
          <h3>قیمت</h3>
          <div class="row">
            <div class="col-md-6">              <label for="pricePerMeter-apartment" class="form-label">قیمت متری (تومان)</label>
              <input type="text" id="pricePerMeter-apartment" name="pricePerMeter-apartment" class="form-control price-input" placeholder="فقط عدد وارد کنید" inputmode="numeric">
              <div id="pricePerMeter-apartmentError" class="error hidden"></div>
            </div>
            <div class="col-md-6">
              <label for="totalPrice-apartment" class="form-label">قیمت کلی (تومان) <span class="required">*</span></label>
              <input type="text" id="totalPrice-apartment" name="totalPrice-apartment" class="form-control price-input" required placeholder="محاسبه خودکار یا دستی" inputmode="numeric">
              <div id="totalPrice-apartmentError" class="error hidden"></div>
            </div>
          </div>
        </div>
        <div class="mb-4">
          <label class="form-label">شرایط فروش <span class="required">*</span></label>
          <div class="row">
            <div class="col-6 col-md-4"><div class="form-check"><input class="form-check-input" type="checkbox" name="saleConditions" id="saleConditions-apartment-1" value="نقدی"><label class="form-check-label" for="saleConditions-apartment-1">نقدی</label></div></div>
            <div class="col-6 col-md-4"><div class="form-check"><input class="form-check-input" type="checkbox" name="saleConditions" id="saleConditions-apartment-2" value="قسطی"><label class="form-check-label" for="saleConditions-apartment-2">قسطی</label></div></div>
            <div class="col-6 col-md-4"><div class="form-check"><input class="form-check-input" type="checkbox" name="saleConditions" id="saleConditions-apartment-3" value="معاوضه"><label class="form-check-label" for="saleConditions-apartment-3">معاوضه</label></div></div>
          </div>
          <div class="mt-2">
            <input type="text" id="saleConditionDetails-apartment" name="saleConditionDetails-apartment" class="form-control persian-and-numbers-only" placeholder="توضیحات شرایط فروش (اختیاری)">
            <div id="saleConditionDetails-apartmentError" class="error hidden"></div>
          </div>
          <div id="saleConditions-apartmentError" class="error hidden">لطفاً حداقل یک شرط فروش را انتخاب کنید</div>
        </div>
        <div class="mb-4">
          <label for="address-apartment" class="form-label">آدرس <span class="required">*</span></label>
          <textarea id="address-apartment" name="address-apartment" class="form-control persian-and-numbers-only" rows="3" required placeholder="آدرس دقیق ملک"></textarea>
          <div id="address-apartmentError" class="error hidden"></div>
        </div>
      </div>

      <!-- جزئیات ویلا -->
      <div id="villaDetails" class="form-section hidden">
         <h3>جزئیات ویلا</h3>
        <div class="row">
          <div class="col-md-6">
            <label for="landArea-villa" class="form-label">متراژ زمین (متر) <span class="required">*</span></label>
            <input type="text" id="landArea-villa" name="landArea-villa" class="form-control numeric-only" required inputmode="numeric">
            <div id="landArea-villaError" class="error hidden"></div>
          </div>
          <div class="col-md-6">
            <label for="buildingArea-villa" class="form-label">متراژ بنا (متر) <span class="required">*</span></label>
            <input type="text" id="buildingArea-villa" name="buildingArea-villa" class="form-control numeric-only" required inputmode="numeric">
            <div id="buildingArea-villaError" class="error hidden"></div>
          </div>
        </div>
        <div class="row mt-3">
          <div class="col-md-6">
            <label for="roomCount-villa" class="form-label">تعداد اتاق‌ها <span class="required">*</span></label>
            <input type="text" id="roomCount-villa" name="roomCount-villa" class="form-control numeric-only" required inputmode="numeric">
            <div id="roomCount-villaError" class="error hidden"></div>
          </div>
          <div class="col-md-6">
            <label for="buildYear-villa" class="form-label">سال ساخت <span class="required">*</span></label>
            <input type="text" id="buildYear-villa" name="buildYear-villa" class="form-control numeric-only" required inputmode="numeric" placeholder="مثال: ۱۳۹۸">
            <div id="buildYear-villaError" class="error hidden"></div>
          </div>
        </div>
         <div class="mt-3">
          <label class="form-label">مشخصات آشپزخانه</label>
          <div class="row">
            <div class="col-6 col-md-3"><div class="form-check"><input class="form-check-input" type="checkbox" name="kitchen" id="kitchen-villa-1" value="کابینت فلزی"><label class="form-check-label" for="kitchen-villa-1">کابینت فلزی</label></div></div>
            <div class="col-6 col-md-3"><div class="form-check"><input class="form-check-input" type="checkbox" name="kitchen" id="kitchen-villa-2" value="کابینت MDF"><label class="form-check-label" for="kitchen-villa-2">کابینت MDF</label></div></div>
            <div class="col-6 col-md-3"><div class="form-check"><input class="form-check-input" type="checkbox" name="kitchen" id="kitchen-villa-3" value="هایگلس"><label class="form-check-label" for="kitchen-villa-3">هایگلس</label></div></div>            <div class="col-6 col-md-3"><div class="form-check"><input class="form-check-input" type="checkbox" name="kitchen" id="kitchen-villa-4" value="ممبران"><label class="form-check-label" for="kitchen-villa-4">ممبران</label></div></div>
            <div class="col-6 col-md-3"><div class="form-check"><input class="form-check-input" type="checkbox" name="kitchen" id="kitchen-villa-5" value="اجاق گاز"><label class="form-check-label" for="kitchen-villa-5">اجاق گاز</label></div></div>
            <div class="col-6 col-md-3"><div class="form-check"><input class="form-check-input" type="checkbox" name="kitchen" id="kitchen-villa-6" value="هود"><label class="form-check-label" for="kitchen-villa-6">هود</label></div></div>
            <div class="col-6 col-md-3"><div class="form-check"><input class="form-check-input" type="checkbox" name="kitchen" id="kitchen-villa-7" value="سینک"><label class="form-check-label" for="kitchen-villa-7">سینک</label></div></div>
            <div class="col-6 col-md-3"><div class="form-check"><input class="form-check-input" type="checkbox" name="kitchen" id="kitchen-villa-8" value="فر"><label class="form-check-label" for="kitchen-villa-8">فر</label></div></div>
            <div class="col-6 col-md-3"><div class="form-check"><input class="form-check-input" type="checkbox" name="kitchen" id="kitchen-villa-9" value="مطبخ"><label class="form-check-label" for="kitchen-villa-9">مطبخ</label></div></div>
            <div class="col-6 col-md-3"><div class="form-check"><input class="form-check-input" type="checkbox" name="kitchen" id="kitchen-villa-10" value="لاندری"><label class="form-check-label" for="kitchen-villa-10">لاندری</label></div></div>
            <div class="col-6 col-md-3"><div class="form-check"><input class="form-check-input" type="checkbox" name="kitchen" id="kitchen-villa-11" value="فول فرنیش"><label class="form-check-label" for="kitchen-villa-11">فول فرنیش</label></div></div>
            <div class="col-6 col-md-3"><div class="form-check"><input class="form-check-input" type="checkbox" name="kitchen" id="kitchen-villa-12" value="اپن"><label class="form-check-label" for="kitchen-villa-12">اپن</label></div></div>
          </div>
        </div>
        <div class="mt-3">
          <label class="form-label">تاسیسات</label>
          <div class="row">
            <div class="col-6 col-md-3"><div class="form-check"><input class="form-check-input" type="checkbox" name="facilities" id="facilities-villa-1" value="شوفاژ"><label class="form-check-label" for="facilities-villa-1">شوفاژ</label></div></div>
            <div class="col-6 col-md-3"><div class="form-check"><input class="form-check-input" type="checkbox" name="facilities" id="facilities-villa-2" value="چیلر"><label class="form-check-label" for="facilities-villa-2">چیلر</label></div></div>
            <div class="col-6 col-md-3"><div class="form-check"><input class="form-check-input" type="checkbox" name="facilities" id="facilities-villa-3" value="پکیج"><label class="form-check-label" for="facilities-villa-3">پکیج</label></div></div>
            <div class="col-6 col-md-3"><div class="form-check"><input class="form-check-input" type="checkbox" name="facilities" id="facilities-villa-4" value="کولر گازی"><label class="form-check-label" for="facilities-villa-4">کولر گازی</label></div></div>
            <div class="col-6 col-md-3"><div class="form-check"><input class="form-check-input" type="checkbox" name="facilities" id="facilities-villa-5" value="سایر"><label class="form-check-label" for="facilities-villa-5">سایر</label></div></div>
          </div>
          <div class="mt-2"><input type="text" id="otherFacilities-villa" name="otherFacilities-villa" class="form-control persian-and-numbers-only" placeholder="در صورت انتخاب سایر، تاسیسات را وارد کنید"><div id="otherFacilities-villaError" class="error hidden"></div></div>
        </div>
        <div class="mt-3">
          <label class="form-label">امکانات</label>
          <div class="row">
            <div class="col-6 col-md-3"><div class="form-check"><input class="form-check-input" type="checkbox" name="amenities" id="amenities-villa-1" value="استخر"><label class="form-check-label" for="amenities-villa-1">استخر</label></div></div>
            <div class="col-6 col-md-3"><div class="form-check"><input class="form-check-input" type="checkbox" name="amenities" id="amenities-villa-2" value="سونا"><label class="form-check-label" for="amenities-villa-2">سونا</label></div></div>
            <div class="col-6 col-md-3"><div class="form-check"><input class="form-check-input" type="checkbox" name="amenities" id="amenities-villa-3" value="جکوزی"><label class="form-check-label" for="amenities-villa-3">جکوزی</label></div></div>
            <div class="col-6 col-md-3"><div class="form-check"><input class="form-check-input" type="checkbox" name="amenities" id="amenities-villa-4" value="آلاچیق"><label class="form-check-label" for="amenities-villa-4">آلاچیق</label></div></div>
            <div class="col-6 col-md-3"><div class="form-check"><input class="form-check-input" type="checkbox" name="amenities" id="amenities-villa-5" value="باربیکیو"><label class="form-check-label" for="amenities-villa-5">باربیکیو</label></div></div>
            <div class="col-6 col-md-3"><div class="form-check"><input class="form-check-input" type="checkbox" name="amenities" id="amenities-villa-6" value="سایر"><label class="form-check-label" for="amenities-villa-6">سایر</label></div></div>
          </div>          <div class="mt-2"><input type="text" id="otherAmenities-villa" name="otherAmenities-villa" class="form-control persian-and-numbers-only" placeholder="در صورت انتخاب سایر، امکانات را وارد کنید"><div id="otherAmenities-villaError" class="error hidden"></div></div>
        </div>
        <div class="mt-3">
          <label for="otherDetails-villa" class="form-label">سایر توضیحات</label>
          <textarea id="otherDetails-villa" name="otherDetails-villa" class="form-control persian-and-numbers-only" rows="3" placeholder="هر توضیح دیگری که لازم است وارد کنید"></textarea>
          <div id="otherDetails-villaError" class="error hidden"></div>
        </div>
        <div class="mb-4 mt-4">
          <label class="form-label">وضعیت سند <span class="required">*</span></label>
          <div class="row">
            <div class="col-6 col-md-4"><div class="form-check"><input class="form-check-input" type="radio" name="document" id="document-villa-1" value="سند تک برگ"><label class="form-check-label" for="document-villa-1">سند تک برگ</label></div></div>
            <div class="col-6 col-md-4"><div class="form-check"><input class="form-check-input" type="radio" name="document" id="document-villa-2" value="سند دفترچه‌ای"><label class="form-check-label" for="document-villa-2">سند دفترچه‌ای</label></div></div>
            <div class="col-6 col-md-4"><div class="form-check"><input class="form-check-input" type="radio" name="document" id="document-villa-3" value="قولنامه‌ای"><label class="form-check-label" for="document-villa-3">قولنامه‌ای</label></div></div>
          </div>
          <div id="document-villaError" class="error hidden">لطفاً وضعیت سند را انتخاب کنید</div>
        </div>
        <div class="mb-4">
          <h3>قیمت</h3>
          <div class="row">
            <div class="col-md-6"> <!-- Villa only has total price -->
              <label for="price-villa" class="form-label">قیمت کلی (تومان) <span class="required">*</span></label>
              <input type="text" id="price-villa" name="price-villa" class="form-control price-input" required placeholder="فقط عدد وارد کنید" inputmode="numeric">
              <div id="price-villaError" class="error hidden"></div>
            </div>
             <div class="col-md-6"></div> {/* Added for alignment */}
          </div>
        </div>
        <div class="mb-4">
          <label class="form-label">شرایط فروش <span class="required">*</span></label>
          <div class="row">
            <div class="col-6 col-md-4"><div class="form-check"><input class="form-check-input" type="checkbox" name="saleConditions" id="saleConditions-villa-1" value="نقدی"><label class="form-check-label" for="saleConditions-villa-1">نقدی</label></div></div>
            <div class="col-6 col-md-4"><div class="form-check"><input class="form-check-input" type="checkbox" name="saleConditions" id="saleConditions-villa-2" value="قسطی"><label class="form-check-label" for="saleConditions-villa-2">قسطی</label></div></div>
            <div class="col-6 col-md-4"><div class="form-check"><input class="form-check-input" type="checkbox" name="saleConditions" id="saleConditions-villa-3" value="معاوضه"><label class="form-check-label" for="saleConditions-villa-3">معاوضه</label></div></div>
          </div>
          <div class="mt-2">
            <input type="text" id="saleConditionDetails-villa" name="saleConditionDetails-villa" class="form-control persian-and-numbers-only" placeholder="توضیحات شرایط فروش (اختیاری)">
            <div id="saleConditionDetails-villaError" class="error hidden"></div>
          </div>
          <div id="saleConditions-villaError" class="error hidden">لطفاً حداقل یک شرط فروش را انتخاب کنید</div>
        </div>
        <div class="mb-4">
          <label for="address-villa" class="form-label">آدرس <span class="required">*</span></label>
          <textarea id="address-villa" name="address-villa" class="form-control persian-and-numbers-only" rows="3" required placeholder="آدرس دقیق ملک"></textarea>
          <div id="address-villaError" class="error hidden"></div>
        </div>
      </div>

      <!-- جزئیات زمین -->
      <div id="landDetails" class="form-section hidden">
         <h3>جزئیات زمین</h3>
        <div class="row">
          <div class="col-md-6">
            <label for="landArea-land" class="form-label">متراژ زمین (متر) <span class="required">*</span></label>
            <input type="text" id="landArea-land" name="landArea-land" class="form-control numeric-only" required inputmode="numeric">
            <div id="landArea-landError" class="error hidden"></div>
          </div>
          <div class="col-md-6">
            <!-- *** کلاس persian-letters-only اضافه شد *** -->
            <label for="landUsage" class="form-label">کاربری <span class="required">*</span></label>
            <input type="text" id="landUsage" name="landUsage" class="form-control persian-letters-only" required placeholder="مسکونی، تجاری، زراعی و...">
            <div id="landUsageError" class="error hidden"></div>
          </div>        </div>
        <div class="row mt-3">
          <div class="col-md-4">
            <label for="landWidth" class="form-label">بَر زمین (متر)</label>
            <input type="text" id="landWidth" name="landWidth" class="form-control numeric-only" inputmode="numeric">
            <div id="landWidthError" class="error hidden"></div>
          </div>
          <div class="col-md-4">
            <label for="landDepth" class="form-label">عمق زمین (متر)</label>
            <input type="text" id="landDepth" name="landDepth" class="form-control numeric-only" inputmode="numeric">
            <div id="landDepthError" class="error hidden"></div>
          </div>
          <div class="col-md-4">
            <label for="alleyWidth" class="form-label">عرض کوچه (متر)</label>
            <input type="text" id="alleyWidth" name="alleyWidth" class="form-control numeric-only" inputmode="numeric">            <div id="alleyWidthError" class="error hidden"></div>
          </div>
        </div>
        <div class="mt-3">
          <label class="form-label">محصور</label>
          <div class="row">
            <div class="col-6"><div class="form-check"><input class="form-check-input" type="radio" name="enclosed" id="enclosed-land-yes" value="هست"><label class="form-check-label" for="enclosed-land-yes">هست</label></div></div>
            <div class="col-6"><div class="form-check"><input class="form-check-input" type="radio" name="enclosed" id="enclosed-land-no" value="نیست"><label class="form-check-label" for="enclosed-land-no">نیست</label></div></div>
          </div>
          <div id="enclosed-landError" class="error hidden"></div>
        </div>
        <div class="mt-3">
          <label for="otherDetails-land" class="form-label">سایر توضیحات</label>          <textarea id="otherDetails-land" name="otherDetails-land" class="form-control persian-and-numbers-only" rows="3" placeholder="هر توضیح دیگری که لازم است وارد کنید"></textarea>
          <div id="otherDetails-landError" class="error hidden"></div>
        </div>
        <div class="mb-4 mt-4">
          <label class="form-label">وضعیت سند <span class="required">*</span></label>
          <div class="row">
            <div class="col-6 col-md-4"><div class="form-check"><input class="form-check-input" type="radio" name="document" id="document-land-1" value="سند تک برگ"><label class="form-check-label" for="document-land-1">سند تک برگ</label></div></div>
            <div class="col-6 col-md-4"><div class="form-check"><input class="form-check-input" type="radio" name="document" id="document-land-2" value="سند دفترچه‌ای"><label class="form-check-label" for="document-land-2">سند دفترچه‌ای</label></div></div>
            <div class="col-6 col-md-4"><div class="form-check"><input class="form-check-input" type="radio" name="document" id="document-land-3" value="قولنامه‌ای"><label class="form-check-label" for="document-land-3">قولنامه‌ای</label></div></div>
          </div>
          <div id="document-landError" class="error hidden">لطفاً وضعیت سند را انتخاب کنید</div>
        </div>        <div class="mb-4">
          <h3>قیمت</h3>
          <div class="row">
            <div class="col-md-6">
              <label for="pricePerMeter-land" class="form-label">قیمت متری (تومان)</label>              <input type="text" id="pricePerMeter-land" name="pricePerMeter-land" class="form-control price-input" placeholder="فقط عدد وارد کنید" inputmode="numeric">
              <div id="pricePerMeter-landError" class="error hidden"></div>
            </div>
            <div class="col-md-6">
              <label for="totalPrice-land" class="form-label">قیمت کلی (تومان) <span class="required">*</span></label>
              <input type="text" id="totalPrice-land" name="totalPrice-land" class="form-control price-input" required placeholder="محاسبه خودکار یا دستی" inputmode="numeric">
              <div id="totalPrice-landError" class="error hidden"></div>
            </div>
          </div>
        </div>
        <div class="mb-4">          <label class="form-label">شرایط فروش <span class="required">*</span></label>
          <div class="row">
            <div class="col-6 col-md-4"><div class="form-check"><input class="form-check-input" type="checkbox" name="saleConditions" id="saleConditions-land-1" value="نقدی"><label class="form-check-label" for="saleConditions-land-1">نقدی</label></div></div>
            <div class="col-6 col-md-4"><div class="form-check"><input class="form-check-input" type="checkbox" name="saleConditions" id="saleConditions-land-2" value="قسطی"><label class="form-check-label" for="saleConditions-land-2">قسطی</label></div></div>
            <div class="col-6 col-md-4"><div class="form-check"><input class="form-check-input" type="checkbox" name="saleConditions" id="saleConditions-land-3" value="معاوضه"><label class="form-check-label" for="saleConditions-land-3">معاوضه</label></div></div>
          </div>
          <div class="mt-2">
            <input type="text" id="saleConditionDetails-land" name="saleConditionDetails-land" class="form-control persian-and-numbers-only" placeholder="توضیحات شرایط فروش (اختیاری)">
            <div id="saleConditionDetails-landError" class="error hidden"></div>
          </div>
          <div id="saleConditions-landError" class="error hidden">لطفاً حداقل یک شرط فروش را انتخاب کنید</div>
        </div>
        <div class="mb-4">
          <label for="address-land" class="form-label">آدرس <span class="required">*</span></label>
          <textarea id="address-land" name="address-land" class="form-control persian-and-numbers-only" rows="3" required placeholder="آدرس دقیق ملک"></textarea>
          <div id="address-landError" class="error hidden"></div>
        </div>
      </div>

      <!-- جزئیات تجاری / مغازه -->
      <div id="commercialDetails" class="form-section hidden">
         <h3>جزئیات تجاری / مغازه</h3>
         <div class="row">
          <div class="col-md-4">
            <label for="shopArea" class="form-label">متراژ مغازه (متر) <span class="required">*</span></label>
            <input type="text" id="shopArea" name="shopArea" class="form-control numeric-only" required inputmode="numeric">
            <div id="shopAreaError" class="error hidden"></div>
          </div>
          <div class="col-md-4">
            <label for="shopHeight" class="form-label">ارتفاع مغازه (متر)</label>
            <input type="text" id="shopHeight" name="shopHeight" class="form-control numeric-only" inputmode="numeric">
            <div id="shopHeightError" class="error hidden"></div>
          </div>
          <div class="col-md-4">
            <label for="shopWidth" class="form-label">دهنه مغازه (متر)</label>
            <input type="text" id="shopWidth" name="shopWidth" class="form-control numeric-only" inputmode="numeric">
            <div id="shopWidthError" class="error hidden"></div>
          </div>
        </div>
        <div class="mt-3">
          <label for="shopDetails" class="form-label">توضیحات شکل مغازه</label>
          <textarea id="shopDetails" name="shopDetails" class="form-control persian-and-numbers-only" rows="2" placeholder="اگر توضیحات بیشتری دارید اینجا وارد کنید"></textarea>
          <div id="shopDetailsError" class="error hidden"></div>
        </div>
        <div class="mt-3">
          <label for="otherDetails-commercial" class="form-label">چه امکاناتی دارد</label>
          <textarea id="otherDetails-commercial" name="otherDetails-commercial" class="form-control persian-and-numbers-only" rows="3" placeholder="امکانات مغازه را وارد کنید (مثال: آب، برق، گاز، سرویس بهداشتی)"></textarea>
          <div id="otherDetails-commercialError" class="error hidden"></div>        </div>
        <div class="mb-4 mt-4">
          <label class="form-label">وضعیت سند <span class="required">*</span></label>
          <div class="row">
            <div class="col-6 col-md-4"><div class="form-check"><input class="form-check-input" type="radio" name="document" id="document-commercial-1" value="سند تک برگ"><label class="form-check-label" for="document-commercial-1">سند تک برگ</label></div></div>
            <div class="col-6 col-md-4"><div class="form-check"><input class="form-check-input" type="radio" name="document" id="document-commercial-2" value="سند دفترچه‌ای"><label class="form-check-label" for="document-commercial-2">سند دفترچه‌ای</label></div></div>
            <div class="col-6 col-md-4"><div class="form-check"><input class="form-check-input" type="radio" name="document" id="document-commercial-3" value="قولنامه‌ای"><label class="form-check-label" for="document-commercial-3">قولنامه‌ای</label></div></div>
          </div>
          <div id="document-commercialError" class="error hidden">لطفاً وضعیت سند را انتخاب کنید</div>
        </div>
        <div class="mb-4">
          <h3>قیمت</h3>
          <div class="row">
            <div class="col-md-6">
              <label for="pricePerMeter-commercial" class="form-label">قیمت متری (تومان)</label>
              <input type="text" id="pricePerMeter-commercial" name="pricePerMeter-commercial" class="form-control price-input" placeholder="فقط عدد وارد کنید" inputmode="numeric">
              <div id="pricePerMeter-commercialError" class="error hidden"></div>
            </div>
            <div class="col-md-6">
              <label for="totalPrice-commercial" class="form-label">قیمت کلی (تومان) <span class="required">*</span></label>
              <input type="text" id="totalPrice-commercial" name="totalPrice-commercial" class="form-control price-input" required placeholder="محاسبه خودکار یا دستی" inputmode="numeric">
              <div id="totalPrice-commercialError" class="error hidden"></div>
            </div>
          </div>
        </div>
        <div class="mb-4">
          <label class="form-label">شرایط فروش <span class="required">*</span></label>
          <div class="row">
            <div class="col-6 col-md-4"><div class="form-check"><input class="form-check-input" type="checkbox" name="saleConditions" id="saleConditions-commercial-1" value="نقدی"><label class="form-check-label" for="saleConditions-commercial-1">نقدی</label></div></div>
            <div class="col-6 col-md-4"><div class="form-check"><input class="form-check-input" type="checkbox" name="saleConditions" id="saleConditions-commercial-2" value="قسطی"><label class="form-check-label" for="saleConditions-commercial-2">قسطی</label></div></div>
            <div class="col-6 col-md-4"><div class="form-check"><input class="form-check-input" type="checkbox" name="saleConditions" id="saleConditions-commercial-3" value="معاوضه"><label class="form-check-label" for="saleConditions-commercial-3">معاوضه</label></div></div>
          </div>
          <div class="mt-2">
            <input type="text" id="saleConditionDetails-commercial" name="saleConditionDetails-commercial" class="form-control persian-and-numbers-only" placeholder="توضیحات شرایط فروش (اختیاری)">
            <div id="saleConditionDetails-commercialError" class="error hidden"></div>
          </div>
          <div id="saleConditions-commercialError" class="error hidden">لطفاً حداقل یک شرط فروش را انتخاب کنید</div>
        </div>
        <div class="mb-4">
          <label for="address-commercial" class="form-label">آدرس <span class="required">*</span></label>
          <textarea id="address-commercial" name="address-commercial" class="form-control persian-and-numbers-only" rows="3" required placeholder="آدرس دقیق ملک"></textarea>
          <div id="address-commercialError" class="error hidden"></div>
        </div>
      </div>

      <!-- جزئیات کلنگی -->
      <div id="oldDetails" class="form-section hidden">
         <h3>جزئیات کلنگی</h3>
        <div class="row">
          <div class="col-md-6">
            <label for="landArea-old" class="form-label">متراژ زمین (متر) <span class="required">*</span></label>
            <input type="text" id="landArea-old" name="landArea-old" class="form-control numeric-only" required inputmode="numeric">
            <div id="landArea-oldError" class="error hidden"></div>
          </div>
          <div class="col-md-6">            <label for="buildingArea-old" class="form-label">متراژ بنای موجود (متر) <span class="required">*</span></label>
            <input type="text" id="buildingArea-old" name="buildingArea-old" class="form-control numeric-only" required inputmode="numeric">
            <div id="buildingArea-oldError" class="error hidden"></div>
          </div>
        </div>
        <div class="row mt-3">
          <div class="col-md-6">
            <label for="landWidth-old" class="form-label">بَر زمین (متر)</label>
            <input type="text" id="landWidth-old" name="landWidth-old" class="form-control numeric-only" inputmode="numeric">
            <div id="landWidth-oldError" class="error hidden"></div>
          </div>
          <div class="col-md-6">
            <label for="landDepth-old" class="form-label">عمق زمین (متر)</label>
            <input type="text" id="landDepth-old" name="landDepth-old" class="form-control numeric-only" inputmode="numeric">
            <div id="landDepth-oldError" class="error hidden"></div>
          </div>
        </div>
        <div class="mt-3">
          <label class="form-label">وضعیت سکونت بنای موجود</label>
          <div class="row">
            <div class="col-6"><div class="form-check"><input class="form-check-input" type="radio" name="livability" id="livability-old-1" value="قابل سکونت"><label class="form-check-label" for="livability-old-1">قابل سکونت</label></div></div>
            <div class="col-6"><div class="form-check"><input class="form-check-input" type="radio" name="livability" id="livability-old-2" value="غیر قابل سکونت"><label class="form-check-label" for="livability-old-2">غیر قابل سکونت</label></div></div>
          </div>
          <div id="livability-oldError" class="error hidden"></div>
        </div>
        <div class="mt-3">
          <label class="form-label">امتیازات</label>
          <div class="row">
            <div class="col-6 col-md-3"><div class="form-check"><input class="form-check-input" type="checkbox" name="utilities" id="utilities-old-1" value="آب"><label class="form-check-label" for="utilities-old-1">آب</label></div></div>
            <div class="col-6 col-md-3"><div class="form-check"><input class="form-check-input" type="checkbox" name="utilities" id="utilities-old-2" value="برق"><label class="form-check-label" for="utilities-old-2">برق</label></div></div>
            <div class="col-6 col-md-3"><div class="form-check"><input class="form-check-input" type="checkbox" name="utilities" id="utilities-old-3" value="گاز"><label class="form-check-label" for="utilities-old-3">گاز</label></div></div>
            <div class="col-6 col-md-3"><div class="form-check"><input class="form-check-input" type="checkbox" name="utilities" id="utilities-old-4" value="تلفن"><label class="form-check-label" for="utilities-old-4">تلفن</label></div></div>
          </div>
          <div id="utilities-oldError" class="error hidden"></div>
        </div>
        <div class="mt-3">
          <label for="amenities-old" class="form-label">امکانات بنای موجود</label>
          <textarea id="amenities-old" name="amenities-old" class="form-control persian-and-numbers-only" rows="3" placeholder="امکانات بنای فعلی را وارد کنید (اختیاری)"></textarea>
          <div id="amenities-oldError" class="error hidden"></div>
        </div>
        <div class="mb-4 mt-4">
          <label class="form-label">وضعیت سند <span class="required">*</span></label>
          <div class="row">
            <div class="col-6 col-md-4"><div class="form-check"><input class="form-check-input" type="radio" name="document" id="document-old-1" value="سند تک برگ"><label class="form-check-label" for="document-old-1">سند تک برگ</label></div></div>
            <div class="col-6 col-md-4"><div class="form-check"><input class="form-check-input" type="radio" name="document" id="document-old-2" value="سند دفترچه‌ای"><label class="form-check-label" for="document-old-2">سند دفترچه‌ای</label></div></div>
            <div class="col-6 col-md-4"><div class="form-check"><input class="form-check-input" type="radio" name="document" id="document-old-3" value="قولنامه‌ای"><label class="form-check-label" for="document-old-3">قولنامه‌ای</label></div></div>
          </div>
          <div id="document-oldError" class="error hidden">لطفاً وضعیت سند را انتخاب کنید</div>
        </div>
        <div class="mb-4">
          <h3>قیمت</h3>
          <div class="row">
            <div class="col-md-6">
              <label for="pricePerMeter-old" class="form-label">قیمت متری زمین (تومان)</label>
              <input type="text" id="pricePerMeter-old" name="pricePerMeter-old" class="form-control price-input" placeholder="فقط عدد وارد کنید" inputmode="numeric">
              <div id="pricePerMeter-oldError" class="error hidden"></div>
            </div>
            <div class="col-md-6">
              <label for="totalPrice-old" class="form-label">قیمت کلی (تومان) <span class="required">*</span></label>
              <input type="text" id="totalPrice-old" name="totalPrice-old" class="form-control price-input" required placeholder="قیمت کل ملک کلنگی" inputmode="numeric">
              <div id="totalPrice-oldError" class="error hidden"></div>
            </div>
          </div>
        </div>
        <div class="mb-4">
          <label class="form-label">شرایط فروش <span class="required">*</span></label>
          <div class="row">
            <div class="col-6 col-md-4"><div class="form-check"><input class="form-check-input" type="checkbox" name="saleConditions" id="saleConditions-old-1" value="نقدی"><label class="form-check-label" for="saleConditions-old-1">نقدی</label></div></div>
            <div class="col-6 col-md-4"><div class="form-check"><input class="form-check-input" type="checkbox" name="saleConditions" id="saleConditions-old-2" value="قسطی"><label class="form-check-label" for="saleConditions-old-2">قسطی</label></div></div>
            <div class="col-6 col-md-4"><div class="form-check"><input class="form-check-input" type="checkbox" name="saleConditions" id="saleConditions-old-3" value="معاوضه"><label class="form-check-label" for="saleConditions-old-3">معاوضه</label></div></div>
          </div>
          <div class="mt-2">
            <input type="text" id="saleConditionDetails-old" name="saleConditionDetails-old" class="form-control persian-and-numbers-only" placeholder="توضیحات شرایط فروش (اختیاری)">
            <div id="saleConditionDetails-oldError" class="error hidden"></div>
          </div>
          <div id="saleConditions-oldError" class="error hidden">لطفاً حداقل یک شرط فروش را انتخاب کنید</div>
        </div>
        <div class="mb-4">
          <label for="address-old" class="form-label">آدرس <span class="required">*</span></label>
          <textarea id="address-old" name="address-old" class="form-control persian-and-numbers-only" rows="3" required placeholder="آدرس دقیق ملک"></textarea>
          <div id="address-oldError" class="error hidden"></div>
        </div>      </div>

      <!-- جزئیات پیش‌فروش آپارتمان -->
      <div id="presaleApartmentDetails" class="form-section hidden">
         <h3>جزئیات پیش‌فروش آپارتمان</h3>
        <div class="row">
          <div class="col-md-6">
            <label for="landArea-presale-apartment" class="form-label">متراژ زمین پروژه (متر)</label>
            <input type="text" id="landArea-presale-apartment" name="landArea-presale-apartment" class="form-control numeric-only" inputmode="numeric">
            <div id="landArea-presale-apartmentError" class="error hidden"></div>
          </div>
          <div class="col-md-6">
            <label for="unitArea-presale-apartment" class="form-label">متراژ واحد (متر) <span class="required">*</span></label>
            <input type="text" id="unitArea-presale-apartment" name="unitArea-presale-apartment" class="form-control numeric-only" required inputmode="numeric">
            <div id="unitArea-presale-apartmentError" class="error hidden"></div>
          </div>
        </div>
        <div class="row mt-3">
          <div class="col-md-3">
            <label for="roomCount-presale-apartment" class="form-label">تعداد اتاق <span class="required">*</span></label>
            <input type="text" id="roomCount-presale-apartment" name="roomCount-presale-apartment" class="form-control numeric-only" required inputmode="numeric">
            <div id="roomCount-presale-apartmentError" class="error hidden"></div>
          </div>
          <div class="col-md-3">
            <label for="floorCount-presale-apartment" class="form-label">تعداد کل طبقات</label>
            <input type="text" id="floorCount-presale-apartment" name="floorCount-presale-apartment" class="form-control numeric-only" inputmode="numeric">
            <div id="floorCount-presale-apartmentError" class="error hidden"></div>
          </div>
          <div class="col-md-3">
            <label for="floorNumber-presale-apartment" class="form-label">طبقه واحد</label>
            <input type="text" id="floorNumber-presale-apartment" name="floorNumber-presale-apartment" class="form-control numeric-only" inputmode="numeric">
            <div id="floorNumber-presale-apartmentError" class="error hidden"></div>
          </div>
          <div class="col-md-3">
            <label for="unitsPerFloor-presale-apartment" class="form-label">واحد در طبقه</label>
            <input type="text" id="unitsPerFloor-presale-apartment" name="unitsPerFloor-presale-apartment" class="form-control numeric-only" inputmode="numeric">
            <div id="unitsPerFloor-presale-apartmentError" class="error hidden"></div>
          </div>
        </div>
        <div class="mt-3">
          <label for="moreDetails-presale-apartment" class="form-label">توضیحات بیشتر پروژه</label>          <textarea id="moreDetails-presale-apartment" name="moreDetails-presale-apartment" class="form-control persian-and-numbers-only" rows="2" placeholder="جزئیات بیشتر درباره پروژه (اختیاری)"></textarea>
          <div id="moreDetails-presale-apartmentError" class="error hidden"></div>
        </div>
        <div class="mt-3">
          <label class="form-label">مشخصات آشپزخانه (تحویلی)</label>
          <div class="row">
            <div class="col-6 col-md-3"><div class="form-check"><input class="form-check-input" type="checkbox" name="kitchen" id="kitchen-presale-apartment-1" value="کابینت فلزی"><label class="form-check-label" for="kitchen-presale-apartment-1">کابینت فلزی</label></div></div>
            <div class="col-6 col-md-3"><div class="form-check"><input class="form-check-input" type="checkbox" name="kitchen" id="kitchen-presale-apartment-2" value="کابینت MDF"><label class="form-check-label" for="kitchen-presale-apartment-2">کابینت MDF</label></div></div>
            <div class="col-6 col-md-3"><div class="form-check"><input class="form-check-input" type="checkbox" name="kitchen" id="kitchen-presale-apartment-3" value="هایگلس"><label class="form-check-label" for="kitchen-presale-apartment-3">هایگلس</label></div></div>
            <div class="col-6 col-md-3"><div class="form-check"><input class="form-check-input" type="checkbox" name="kitchen" id="kitchen-presale-apartment-4" value="ممبران"><label class="form-check-label" for="kitchen-presale-apartment-4">ممبران</label></div></div>
            <div class="col-6 col-md-3"><div class="form-check"><input class="form-check-input" type="checkbox" name="kitchen" id="kitchen-presale-apartment-5" value="اجاق گاز"><label class="form-check-label" for="kitchen-presale-apartment-5">اجاق گاز</label></div></div>
            <div class="col-6 col-md-3"><div class="form-check"><input class="form-check-input" type="checkbox" name="kitchen" id="kitchen-presale-apartment-6" value="هود"><label class="form-check-label" for="kitchen-presale-apartment-6">هود</label></div></div>
            <div class="col-6 col-md-3"><div class="form-check"><input class="form-check-input" type="checkbox" name="kitchen" id="kitchen-presale-apartment-7" value="سینک"><label class="form-check-label" for="kitchen-presale-apartment-7">سینک</label></div></div>
            <div class="col-6 col-md-3"><div class="form-check"><input class="form-check-input" type="checkbox" name="kitchen" id="kitchen-presale-apartment-8" value="فر"><label class="form-check-label" for="kitchen-presale-apartment-8">فر</label></div></div>
            <div class="col-6 col-md-3"><div class="form-check"><input class="form-check-input" type="checkbox" name="kitchen" id="kitchen-presale-apartment-9" value="مطبخ"><label class="form-check-label" for="kitchen-presale-apartment-9">مطبخ</label></div></div>
            <div class="col-6 col-md-3"><div class="form-check"><input class="form-check-input" type="checkbox" name="kitchen" id="kitchen-presale-apartment-10" value="لاندری"><label class="form-check-label" for="kitchen-presale-apartment-10">لاندری</label></div></div>
            <div class="col-6 col-md-3"><div class="form-check"><input class="form-check-input" type="checkbox" name="kitchen" id="kitchen-presale-apartment-11" value="فول فرنیش"><label class="form-check-label" for="kitchen-presale-apartment-11">فول فرنیش</label></div></div>
            <div class="col-6 col-md-3"><div class="form-check"><input class="form-check-input" type="checkbox" name="kitchen" id="kitchen-presale-apartment-12" value="اپن"><label class="form-check-label" for="kitchen-presale-apartment-12">اپن</label></div></div>
          </div>
        </div>
        <div class="mt-3">          <label for="otherDetails-presale-apartment" class="form-label">سایر توضیحات و امکانات (تحویلی)</label>
          <textarea id="otherDetails-presale-apartment" name="otherDetails-presale-apartment" class="form-control persian-and-numbers-only" rows="3" placeholder="هر توضیح دیگری که لازم است وارد کنید (اختیاری)"></textarea>
          <div id="otherDetails-presale-apartmentError" class="error hidden"></div>
        </div>
        <div class="mb-4 mt-4">
          <label class="form-label">وضعیت سند <span class="required">*</span></label>
          <div class="row">
            <div class="col-6 col-md-4"><div class="form-check"><input class="form-check-input" type="radio" name="document" id="document-presale-apartment-1" value="سند تک برگ (پس از تکمیل)"><label class="form-check-label" for="document-presale-apartment-1">سند تک برگ (پس از تکمیل)</label></div></div>
            <div class="col-6 col-md-4"><div class="form-check"><input class="form-check-input" type="radio" name="document" id="document-presale-apartment-2" value="سند دفترچه‌ای (پس از تکمیل)"><label class="form-check-label" for="document-presale-apartment-2">سند دفترچه‌ای (پس از تکمیل)</label></div></div>
            <div class="col-6 col-md-4"><div class="form-check"><input class="form-check-input" type="radio" name="document" id="document-presale-apartment-3" value="قولنامه‌ای / تعهد به سند"><label class="form-check-label" for="document-presale-apartment-3">قولنامه‌ای / تعهد به سند</label></div></div>
          </div>
          <div id="document-presale-apartmentError" class="error hidden">لطفاً وضعیت سند را انتخاب کنید</div>
        </div>
        <div class="mb-4">
          <h3>قیمت</h3>
          <div class="row">
            <div class="col-md-6">              <label for="pricePerMeter-presale-apartment" class="form-label">قیمت متری (تومان)</label>
              <input type="text" id="pricePerMeter-presale-apartment" name="pricePerMeter-presale-apartment" class="form-control price-input" placeholder="فقط عدد وارد کنید" inputmode="numeric">
              <div id="pricePerMeter-presale-apartmentError" class="error hidden"></div>
            </div>
            <div class="col-md-6">
              <label for="totalPrice-presale-apartment" class="form-label">قیمت کلی واحد (تومان) <span class="required">*</span></label>
              <input type="text" id="totalPrice-presale-apartment" name="totalPrice-presale-apartment" class="form-control price-input" required placeholder="فقط عدد وارد کنید" inputmode="numeric">
              <div id="totalPrice-presale-apartmentError" class="error hidden"></div>
            </div>
          </div>
        </div>
        <div class="mb-4">
          <label class="form-label">شرایط فروش <span class="required">*</span></label>
          <div class="row">
            <div class="col-6 col-md-4"><div class="form-check"><input class="form-check-input" type="checkbox" name="saleConditions" id="saleConditions-presale-apartment-1" value="نقدی"><label class="form-check-label" for="saleConditions-presale-apartment-1">نقدی</label></div></div>
            <div class="col-6 col-md-4"><div class="form-check"><input class="form-check-input" type="checkbox" name="saleConditions" id="saleConditions-presale-apartment-2" value="قسطی"><label class="form-check-label" for="saleConditions-presale-apartment-2">قسطی</label></div></div>
            <div class="col-6 col-md-4"><div class="form-check"><input class="form-check-input" type="checkbox" name="saleConditions" id="saleConditions-presale-apartment-3" value="معاوضه"><label class="form-check-label" for="saleConditions-presale-apartment-3">معاوضه</label></div></div>
          </div>
          <div class="mt-2">
            <input type="text" id="saleConditionDetails-presale-apartment" name="saleConditionDetails-presale-apartment" class="form-control persian-and-numbers-only" placeholder="توضیحات شرایط فروش (اختیاری)">
            <div id="saleConditionDetails-presale-apartmentError" class="error hidden"></div>
          </div>
          <div id="saleConditions-presale-apartmentError" class="error hidden">لطفاً حداقل یک شرط فروش را انتخاب کنید</div>
        </div>
        <div class="mb-4">
          <label for="address-presale-apartment" class="form-label">آدرس پروژه <span class="required">*</span></label>
          <textarea id="address-presale-apartment" name="address-presale-apartment" class="form-control persian-and-numbers-only" rows="3" required placeholder="آدرس دقیق پروژه"></textarea>
          <div id="address-presale-apartmentError" class="error hidden"></div>
        </div>
      </div>

      <!-- جزئیات پیش‌فروش ویلا -->
      <div id="presaleVillaDetails" class="form-section hidden">
         <h3>جزئیات پیش‌فروش ویلا</h3>
        <div class="row">
          <div class="col-md-6">
            <label for="landArea-presale-villa" class="form-label">متراژ زمین (متر) <span class="required">*</span></label>
            <input type="text" id="landArea-presale-villa" name="landArea-presale-villa" class="form-control numeric-only" required inputmode="numeric">
            <div id="landArea-presale-villaError" class="error hidden"></div>
          </div>
          <div class="col-md-6">
            <label for="buildingArea-presale-villa" class="form-label">متراژ بنا (متر) <span class="required">*</span></label>
            <input type="text" id="buildingArea-presale-villa" name="buildingArea-presale-villa" class="form-control numeric-only" required inputmode="numeric">
            <div id="buildingArea-presale-villaError" class="error hidden"></div>
          </div>
        </div>
        <div class="row mt-3">
          <div class="col-md-6">
            <label for="roomCount-presale-villa" class="form-label">تعداد اتاق‌ها <span class="required">*</span></label>
            <input type="text" id="roomCount-presale-villa" name="roomCount-presale-villa" class="form-control numeric-only" required inputmode="numeric">
            <div id="roomCount-presale-villaError" class="error hidden"></div>
          </div>
          <div class="col-md-6">
            <label for="floorCount-presale-villa" class="form-label">تعداد طبقات <span class="required">*</span></label>
            <input type="text" id="floorCount-presale-villa" name="floorCount-presale-villa" class="form-control numeric-only" required inputmode="numeric">
            <div id="floorCount-presale-villaError" class="error hidden"></div>
          </div>
        </div>
        <div class="mt-3">
          <label class="form-label">مشخصات آشپزخانه (تحویلی)</label>
          <div class="row">
            <div class="col-6 col-md-3"><div class="form-check"><input class="form-check-input" type="checkbox" name="kitchen" id="kitchen-presale-villa-1" value="کابینت فلزی"><label class="form-check-label" for="kitchen-presale-villa-1">کابینت فلزی</label></div></div>
            <div class="col-6 col-md-3"><div class="form-check"><input class="form-check-input" type="checkbox" name="kitchen" id="kitchen-presale-villa-2" value="کابینت MDF"><label class="form-check-label" for="kitchen-presale-villa-2">کابینت MDF</label></div></div>
            <div class="col-6 col-md-3"><div class="form-check"><input class="form-check-input" type="checkbox" name="kitchen" id="kitchen-presale-villa-3" value="هایگلس"><label class="form-check-label" for="kitchen-presale-villa-3">هایگلس</label></div></div>
            <div class="col-6 col-md-3"><div class="form-check"><input class="form-check-input" type="checkbox" name="kitchen" id="kitchen-presale-villa-4" value="ممبران"><label class="form-check-label" for="kitchen-presale-villa-4">ممبران</label></div></div>
            <div class="col-6 col-md-3"><div class="form-check"><input class="form-check-input" type="checkbox" name="kitchen" id="kitchen-presale-villa-5" value="اجاق گاز"><label class="form-check-label" for="kitchen-presale-villa-5">اجاق گاز</label></div></div>
            <div class="col-6 col-md-3"><div class="form-check"><input class="form-check-input" type="checkbox" name="kitchen" id="kitchen-presale-villa-6" value="هود"><label class="form-check-label" for="kitchen-presale-villa-6">هود</label></div></div>
            <div class="col-6 col-md-3"><div class="form-check"><input class="form-check-input" type="checkbox" name="kitchen" id="kitchen-presale-villa-7" value="سینک"><label class="form-check-label" for="kitchen-presale-villa-7">سینک</label></div></div>
            <div class="col-6 col-md-3"><div class="form-check"><input class="form-check-input" type="checkbox" name="kitchen" id="kitchen-presale-villa-8" value="فر"><label class="form-check-label" for="kitchen-presale-villa-8">فر</label></div></div>
            <div class="col-6 col-md-3"><div class="form-check"><input class="form-check-input" type="checkbox" name="kitchen" id="kitchen-presale-villa-9" value="مطبخ"><label class="form-check-label" for="kitchen-presale-villa-9">مطبخ</label></div></div>
            <div class="col-6 col-md-3"><div class="form-check"><input class="form-check-input" type="checkbox" name="kitchen" id="kitchen-presale-villa-10" value="لاندری"><label class="form-check-label" for="kitchen-presale-villa-10">لاندری</label></div></div>
            <div class="col-6 col-md-3"><div class="form-check"><input class="form-check-input" type="checkbox" name="kitchen" id="kitchen-presale-villa-11" value="فول فرنیش"><label class="form-check-label" for="kitchen-presale-villa-11">فول فرنیش</label></div></div>
            <div class="col-6 col-md-3"><div class="form-check"><input class="form-check-input" type="checkbox" name="kitchen" id="kitchen-presale-villa-12" value="اپن"><label class="form-check-label" for="kitchen-presale-villa-12">اپن</label></div></div>
          </div>
        </div>
        <div class="mt-3">
          <label for="otherDetails-presale-villa" class="form-label">سایر توضیحات و امکانات (تحویلی)</label>
          <textarea id="otherDetails-presale-villa" name="otherDetails-presale-villa" class="form-control persian-and-numbers-only" rows="3" placeholder="هر توضیح دیگری که لازم است وارد کنید (اختیاری)"></textarea>
          <div id="otherDetails-presale-villaError" class="error hidden"></div>
        </div>
        <div class="mb-4 mt-4">
          <label class="form-label">وضعیت سند <span class="required">*</span></label>
          <div class="row">
             <div class="col-6 col-md-4"><div class="form-check"><input class="form-check-input" type="radio" name="document" id="document-presale-villa-1" value="سند تک برگ (پس از تکمیل)"><label class="form-check-label" for="document-presale-villa-1">سند تک برگ (پس از تکمیل)</label></div></div>
            <div class="col-6 col-md-4"><div class="form-check"><input class="form-check-input" type="radio" name="document" id="document-presale-villa-2" value="سند دفترچه‌ای (پس از تکمیل)"><label class="form-check-label" for="document-presale-villa-2">سند دفترچه‌ای (پس از تکمیل)</label></div></div>
            <div class="col-6 col-md-4"><div class="form-check"><input class="form-check-input" type="radio" name="document" id="document-presale-villa-3" value="قولنامه‌ای / تعهد به سند"><label class="form-check-label" for="document-presale-villa-3">قولنامه‌ای / تعهد به سند</label></div></div>
          </div>
          <div id="document-presale-villaError" class="error hidden">لطفاً وضعیت سند را انتخاب کنید</div>
        </div>
        <div class="mb-4">
          <h3>قیمت</h3>
          <div class="row">
            <div class="col-md-6"> <!-- Presale Villa only has total price -->
              <label for="price-presale-villa" class="form-label">قیمت کلی ویلا (تومان) <span class="required">*</span></label>
              <input type="text" id="price-presale-villa" name="price-presale-villa" class="form-control price-input" required placeholder="فقط عدد وارد کنید" inputmode="numeric">
              <div id="price-presale-villaError" class="error hidden"></div>
            </div>
            <div class="col-md-6"></div> {/* Added for alignment */}
          </div>
        </div>
        <div class="mb-4">
          <label class="form-label">شرایط فروش <span class="required">*</span></label>
          <div class="row">
            <div class="col-6 col-md-4"><div class="form-check"><input class="form-check-input" type="checkbox" name="saleConditions" id="saleConditions-presale-villa-1" value="نقدی"><label class="form-check-label" for="saleConditions-presale-villa-1">نقدی</label></div></div>
            <div class="col-6 col-md-4"><div class="form-check"><input class="form-check-input" type="checkbox" name="saleConditions" id="saleConditions-presale-villa-2" value="قسطی"><label class="form-check-label" for="saleConditions-presale-villa-2">قسطی</label></div></div>
            <div class="col-6 col-md-4"><div class="form-check"><input class="form-check-input" type="checkbox" name="saleConditions" id="saleConditions-presale-villa-3" value="معاوضه"><label class="form-check-label" for="saleConditions-presale-villa-3">معاوضه</label></div></div>
          </div>
          <div class="mt-2">
            <input type="text" id="saleConditionDetails-presale-villa" name="saleConditionDetails-presale-villa" class="form-control persian-and-numbers-only" placeholder="توضیحات شرایط فروش (اختیاری)">
            <div id="saleConditionDetails-presale-villaError" class="error hidden"></div>
          </div>
          <div id="saleConditions-presale-villaError" class="error hidden">لطفاً حداقل یک شرط فروش را انتخاب کنید</div>
        </div>
        <div class="mb-4">
          <label for="address-presale-villa" class="form-label">آدرس پروژه <span class="required">*</span></label>
          <textarea id="address-presale-villa" name="address-presale-villa" class="form-control persian-and-numbers-only" rows="3" required placeholder="آدرس دقیق پروژه"></textarea>
          <div id="address-presale-villaError" class="error hidden"></div>
        </div>
      </div>
      <!-- === پایان بخش‌های جزئیات === -->

      <!-- خطاهای اعتبارسنجی -->
      <div id="validationErrors" class="validation-errors hidden" aria-live="polite">
        <h4>لطفاً موارد زیر را تکمیل یا اصلاح کنید:</h4>
        <ul id="errorsList"></ul>
      </div>
      <!-- دکمه‌های فرم -->
      <div class="button-group">
        <button type="submit" class="btn btn-primary">ارسال اطلاعات</button>
        <button type="button" id="resetBtn" class="btn btn-danger">پاک کردن فرم</button>
      </div>
    </form>
  </div>

  <!-- منوی همبرگری Overlay (بدون تغییر ساختاری) -->
  <div id="menuOverlay" class="menu-overlay">
    <button type="button" id="menuClose" class="menu-close" aria-label="بستن منو">×</button>
    <div class="menu-content">
      <table class="menu-table">
        <tr><td><a href="tel:09113930981" class="text-decoration-none">۰۹۱۱۳۹۳۰۹۸۱</a></td><td>(تماس)</td></tr>
        <tr><td><a href="tel:09112903932" class="text-decoration-none">۰۹۱۱۲۹۰۳۹۳۲</a></td><td>(تماس)</td></tr>
        <tr><td><a href="https://nshn.ir/rbW89MIxXInd" target="_blank" class="text-decoration-none">لوکیشن دفتر</a></td><td>(نقشه)</td></tr>
        <tr><td><a href="https://t.me/amlakmoein4" target="_blank" class="text-decoration-none">کانال تلگرام</a></td><td>(مشاهده)</td></tr>
        <tr><td><a href="https://www.instagram.com/Amlak.moein" target="_blank" class="text-decoration-none">اینستاگرام</a></td><td>(مشاهده)</td></tr>
      </table>
    </div>
  </div>

  <!-- ====================================== -->
  <!-- ===== پیام موفقیت (اصلاح نهایی) ===== -->
  <!-- ====================================== -->
  <div id="successOverlay" class="overlay">
    <div class="overlay-content success"> <!-- Added 'success' class for potential specific styling -->
        <!-- آیکون جدید و ساده‌تر -->
        <div class="success-icon-simple" aria-hidden="true">
            <svg viewBox="0 0 50 50">
                <path fill="transparent" stroke-width="5" stroke="#4CAF50" stroke-linecap="round" stroke-linejoin="round" d="M14 27l7.6 7.6L36 20"></path>
            </svg>
        </div>
        <h2>موفقیت!</h2>
        <!-- پاراگراف اول با اینتر -->
        <p>
            اطلاعات شما با موفقیت ثبت شد.
            <br>
            در صورت نیاز با شما تماس می‌گیریم.
        </p>
        <!-- پاراگراف دوم با هایلایت -->
        <p>
            برای ارسال <span class="highlight-text">عکس</span> و <span class="highlight-text">فیلم</span> از ملک خودتان، روی هر یک از گزینه‌های زیر که راحتید کلیک کنید:
        </p>
        <!-- دکمه‌های ارسال با لینک‌های جدید -->
        <div class="contact-buttons">
            <!-- *** لینک تلگرام اصلاح شد *** -->
            <a href="https://t.me/amlak_moein" target="_blank" id="sendTelegramBtn" class="btn btn-share">ارسال به تلگرام</a>
            <!-- *** لینک واتساپ اصلاح شد (با پیش‌شماره ۹۸) *** -->
            <a href="https://wa.me/989113930981" target="_blank" id="sendWhatsAppBtn" class="btn btn-share">ارسال به واتساپ</a>
        </div>
        <hr>
        <!-- دکمه ثبت ملک جدید -->
        <button type="button" id="closeSuccessBtn" class="btn btn-primary"> <!-- Changed to btn-primary for yellow -->
             <i class="fas fa-plus"></i> ثبت ملک جدید
        </button>
        <!-- *** بخش کد رهگیری حذف شد *** -->
        <!-- <p class="mt-2">کد رهگیری: <strong id="uniqueIdDisplay"></strong></p> -->
    </div>
  </div>  <!-- ====================================== -->
  <!-- ===== پایان پیام موفقیت اصلاح شده ===== -->
  <!-- ====================================== -->


  <!-- پیام تأیید پاک کردن فرم (بدون تغییر ساختاری) -->
  <div id="confirmOverlay" class="overlay">
    <div class="overlay-content">
      <h3>پاک کردن فرم</h3>
      <p>آیا از پاک کردن تمام اطلاعات وارد شده مطمئن هستید؟</p>
      <div class="button-group">
        <button type="button" id="confirmYesBtn" class="btn btn-danger">بله، پاک کن</button>
        <button type="button" id="confirmNoBtn" class="btn btn-secondary">خیر، ادامه می‌دهم</button>
      </div>
    </div>
  </div>

  <!-- پیام در حال ارسال -->
  <div id="sendingOverlay" class="overlay">
    <div class="overlay-content">
      <h3>در حال ثبت اطلاعات...</h3>
      <p>لطفاً چند لحظه صبر کنید.</p>
      <!-- Progress bar container will be added here by JS -->
    </div>
  </div>

  <!-- پیام خطا در ارسال اطلاعات (بدون تغییر ساختاری) -->
  <div id="errorOverlay" class="overlay">
    <div class="overlay-content">
      <h3 class="text-danger">خطا در ثبت اطلاعات</h3>
      <p>متاسفانه مشکلی در هنگام ثبت اطلاعات پیش آمد. لطفاً اتصال اینترنت خود را بررسی کرده و دوباره تلاش کنید.</p>
      <p>در صورت تکرار مشکل، می‌توانید مستقیماً با ما تماس بگیرید.</p>
      <div class="button-group">
          <button type="button" id="closeErrorBtn" class="btn btn-primary">متوجه شدم، تلاش مجدد</button>
       </div>
    </div>
  </div>

  <!-- صداها -->
  <!-- *** مسیر فایل صوتی موفقیت اصلاح شد *** -->
  <audio id="successSound" src="sounds/ding.mp3" preload="auto"></audio>
  <audio id="dingSound" preload="auto"><source src="https://assets.mixkit.co/active_storage/sfx/1862/1862-preview.mp3" type="audio/mpeg"></audio>
  <audio id="errorSound" preload="auto"><source src="https://assets.mixkit.co/active_storage/sfx/2011/2011-preview.mp3" type="audio/mpeg"></audio> <!-- Added an error sound -->


  <!-- EmailJS SDK (بدون تغییر) -->
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js"></script>

  <!-- کد جاوااسکریپت شما -->
  <script src="script.js"></script>
</body>
</html>